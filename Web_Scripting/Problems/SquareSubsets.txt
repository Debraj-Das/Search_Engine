Square Subsets                    

httpscodeforcescomproblemsetproblem895C

bitmasks

2000

Petya was late for the lesson too The teacher gave him an additional task For some array a Petya should find the number of different ways to select nonempty subset of elements from it in such a way that their product is equal to a square of some integerTwo ways are considered different if sets of indexes of elements chosen by these ways are differentSince the answer can be very large you should find the answer modulo 1097