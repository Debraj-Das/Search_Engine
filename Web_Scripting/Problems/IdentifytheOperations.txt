Identify the Operations                    

https://codeforces.com/problemset/problem/1442/B

combinatorics

1800

We start with a permutation a_1, a_2, \ldots, a_n and with an empty array b. We apply the following operation k times.On the i-th iteration, we select an index t_i (1 \le t_i \le n-i+1), remove a_{t_i} from the array, and append one of the numbers a_{t_i-1} or a_{t_i+1} (if t_i-1 or t_i+1 are within the array bounds) to the right end of the array b. Then we move elements a_{t_i+1}, \ldots, a_n to the left in order to fill in the empty space.You are given the initial permutation a_1, a_2, \ldots, a_n and the resulting array b_1, b_2, \ldots, b_k. All elements of an array b are distinct. Calculate the number of possible sequences of indices t_1, t_2, \ldots, t_k modulo 998\,244\,353.