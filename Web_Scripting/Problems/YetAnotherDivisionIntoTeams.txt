Yet Another Division Into Teams                    

https://codeforces.com/problemset/problem/1256/E

dp

2000

There are n students at your university. The programming skill of the i-th student is a_i. As a coach, you want to divide them into teams to prepare them for the upcoming ICPC finals. Just imagine how good this university is if it has 2 \cdot 10^5 students ready for the finals!Each team should consist of at least three students. Each student should belong to exactly one team. The diversity of a team is the difference between the maximum programming skill of some student that belongs to this team and the minimum programming skill of some student that belongs to this team (in other words, if the team consists of k students with programming skills a[i_1], a[i_2], \dots, a[i_k], then the diversity of this team is \max\limits_{j=1}^{k} a[i_j] - \min\limits_{j=1}^{k} a[i_j]).The total diversity is the sum of diversities of all teams formed.Your task is to minimize the total diversity of the division of students and find the optimal way to divide the students.