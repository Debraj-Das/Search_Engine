Bear and Two Paths                    

httpscodeforcescomproblemsetproblem643B

constructive algorithms

1600

Bearland has n cities numbered 1 through n Cities are connected via bidirectional roads Each road connects two distinct cities No two roads connect the same pair of citiesBear Limak was once in a city a and he wanted to go to a city b There was no direct connection so he decided to take a long walk visiting each city exactly once Formally   There is no road between a and b  There exists a sequence path of n distinct cities v1v2vn that v1a vnb and there is a road between vi and vi1 for  On the other day the similar thing happened Limak wanted to travel between a city c and a city d There is no road between them but there exists a sequence of n distinct cities u1u2un that u1c und and there is a road between ui and ui1 for Also Limak thinks that there are at most k roads in Bearland He wonders whether he remembers everything correctlyGiven n k and four distinct cities a b c d can you find possible paths v1vn and u1un to satisfy all the given conditions Find any solution or print 1 if its impossible