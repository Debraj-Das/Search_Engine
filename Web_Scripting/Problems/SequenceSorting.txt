Sequence Sorting                    

https://codeforces.com/problemset/problem/1223/D

dp

2000

You are given a sequence a_1, a_2, \dots, a_n, consisting of integers.You can apply the following operation to this sequence: choose some integer x and move all elements equal to x either to the beginning, or to the end of a. Note that you have to move all these elements in one direction in one operation.For example, if a = [2, 1, 3, 1, 1, 3, 2], you can get the following sequences in one operation (for convenience, denote elements equal to x as x-elements):   [1, 1, 1, 2, 3, 3, 2] if you move all 1-elements to the beginning;  [2, 3, 3, 2, 1, 1, 1] if you move all 1-elements to the end;  [2, 2, 1, 3, 1, 1, 3] if you move all 2-elements to the beginning;  [1, 3, 1, 1, 3, 2, 2] if you move all 2-elements to the end;  [3, 3, 2, 1, 1, 1, 2] if you move all 3-elements to the beginning;  [2, 1, 1, 1, 2, 3, 3] if you move all 3-elements to the end; You have to determine the minimum number of such operations so that the sequence a becomes sorted in non-descending order. Non-descending order means that for all i from 2 to n, the condition a_{i-1} \le a_i is satisfied.Note that you have to answer q independent queries.