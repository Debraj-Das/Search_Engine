Fence                    

httpscodeforcescomproblemsetproblem232D

binary search

2900

John Doe has a crooked fence consisting of n rectangular planks lined up from the left to the right the plank that goes ith 1in from left to right has width 1 and height hi We will assume that the plank that goes ith 1in from left to right has index iA piece of the fence from l to r 1lrn is a sequence of planks of wood with indices from l to r inclusive that is planks with indices ll1r The width of the piece of the fence from l to r is value rl1Two pieces of the fence from l1 to r1 and from l2 to r2 are called matching if the following conditions hold  the pieces do not intersect that is there isnt a single plank such that it occurs in both pieces of the fence  the pieces are of the same width  for all i 0ir1l1 the following condition holds hl1ihl2ihl1hl2 John chose a few pieces of the fence and now wants to know how many distinct matching pieces are for each of them Two pieces of the fence are distinct if there is a plank which belongs to one of them and does not belong to the other one