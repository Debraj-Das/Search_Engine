Financiers Game                    

httpscodeforcescomproblemsetproblem729F

dp

2500

This problem has unusual memory constraintAt evening Igor and Zhenya the financiers became boring so they decided to play a game They prepared n papers with the income of some company for some time periods Note that the income can be positive zero or negativeIgor and Zhenya placed the papers in a row and decided to take turns making moves Igor will take the papers from the left side Zhenya will take the papers from the right side Igor goes first and takes 1 or 2 on his choice papers from the left Then on each turn a player can take k or k1 papers from his side if the opponent took exactly k papers in the previous turn Players cant skip moves The game ends when there are no papers left or when some of the players cant make a moveYour task is to determine the difference between the sum of incomes on the papers Igor took and the sum of incomes on the papers Zhenya took assuming both players play optimally Igor wants to maximize the difference Zhenya wants to minimize it