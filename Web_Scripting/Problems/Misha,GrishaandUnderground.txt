Misha Grisha and Underground                    

httpscodeforcescomproblemsetproblem832D

dfs and similar

1900

Misha and Grisha are funny boys so they like to use new underground The underground has n stations connected with n1 routes so that each route connects two stations and it is possible to reach every station from any otherThe boys decided to have fun and came up with a plan Namely in some day in the morning Misha will ride the underground from station s to station f by the shortest path and will draw with aerosol an ugly text Misha was here on every station he will pass through including s and f After that on the same day at evening Grisha will ride from station t to station f by the shortest path and will count stations with Mishas text After that at night the underground workers will wash the texts out because the underground should be clean The boys have already chosen three stations a b and c for each of several following days one of them should be station s on that day another should be station f and the remaining should be station t They became interested how they should choose these stations s f t so that the number Grisha will count is as large as possible They asked you for help