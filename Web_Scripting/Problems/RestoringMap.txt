Restoring Map                    

httpscodeforcescomproblemsetproblem566E

bitmasks

3200

Archaeologists found some information about an ancient land of Treeland We know for sure that the Treeland consisted of n cities connected by the n1 road such that you can get from each city to any other one along the roads However the information about the specific design of roads in Treeland has been lost The only thing that the archaeologists can use is the preserved information about near citiesTwo cities of Treeland were called near if it were possible to move from one city to the other one by moving through at most two roads Also a city is considered near to itself During the recent excavations archaeologists found a set of n notes each of them represents a list of cities near to some of the n cities of the country However unfortunately none of the found records lets you understand in what order the cities go in the list and for which city in the list the near to it cities were listed Help the archaeologists and restore any variant of the map of Treeland that meets the found information