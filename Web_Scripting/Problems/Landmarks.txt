Landmarks                    

httpscodeforcescomproblemsetproblem533D

data structures

3000

We have an old building with n2 columns in a row These columns support the ceiling These columns are located in points with coordinates 0x0x1xnxn1 The leftmost and the rightmost columns are special we will call them bearing the other columns are ordinary For each column we know its durability di Lets consider an ordinary column with coordinate x Lets assume that the coordinate of the closest to it column to the left bearing or ordinary is a and the coordinate of the closest to it column to the right also bearing or ordinary is b In this task lets assume that this column supports the segment of the ceiling from point  to point  here both fractions are considered as real division If the length of the segment of the ceiling supported by the column exceeds di then the column cannot support it and it crashes after a while and after that the load is being redistributeed between the neighbouring columns according to the same principle  Thus ordinary columns will be crashing for some time until the process stops at some state One can prove that the set of the remaining columns doesnt depend on the order in which columns crash If there are only two bearing columns left in the end then we assume that the whole construction crashes under the weight of the roof But if at least one ordinary column stays in addition to the bearing ones then the building doesnt crashTo make the building stronger we can add one extra ordinary column of arbitrary durability d at any not necessarily integer point 0xxn1 If point x is already occupied by an ordinary column it is replaced by a new oneYour task is to find out what minimal durability can the added column have so that the building doesnt crash