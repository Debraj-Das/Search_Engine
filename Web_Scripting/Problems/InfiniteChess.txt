Infinite Chess                    

httpscodeforcescomproblemsetproblem1765I

implementation

2800

The black king lives on a chess board with an infinite number of columns files and 8 rows ranks The columns are numbered with all integer numbers including negative The rows are numbered from 1 to8Initially the black king is located on the starting square xs ys and he needs to reach some target square xt yt Unfortunately there are also white pieces on the board and they threaten the black king After negotiations the white pieces agreed to let the black king pass to the target square on the following conditions  each turn the black king makes a move according to the movement rules  the black king cannot move to a square occupied by a white piece  the black king cannot move to a square which is under attack by any white piece A square is under attack if a white piece can reach it in one move according to the movement rules  the white pieces never move Help the black king find the minimum number of moves needed to reach the target square while not violating the conditions The black king cannot leave the board at any timeThe black king moves according to the movement rules below Even though the white pieces never move squares which they can reach in one move are considered to be under attack so the black king cannot move into those squaresBelow are the movement rules Note that the pieces except for the knight cannot jump over other pieces  a king moves exactly one square horizontally vertically or diagonally  a rook moves any number of vacant squares horizontally or vertically  a bishop moves any number of vacant squares diagonally  a queen moves any number of vacant squares horizontally vertically or diagonally  a knight moves to one of the nearest squares not on the same rank file or diagonal this can be thought of as moving two squares horizontally then one square vertically or moving one square horizontally then two squares vertically  ie in an L pattern Knights are not blocked by other pieces they can simply jump over them There are no pawns on the board   King and knight possible moves respectively Dotted line shows that knight can jump over other pieces    Queen bishop and rook possible moves respectively 