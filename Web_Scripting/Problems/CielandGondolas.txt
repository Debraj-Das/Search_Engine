Ciel and Gondolas                    

httpscodeforcescomproblemsetproblem321E

data structures

2600

Fox Ciel is in the Amusement Park And now she is in a queue in front of the Ferris wheel There are n people or foxes more precisely in the queue we use first people to refer one at the head of the queue and nth people to refer the last one in the queueThere will be k gondolas and the way we allocate gondolas looks like this  When the first gondolas come the q1 people in head of the queue go into the gondolas  Then when the second gondolas come the q2 people in head of the remain queue go into the gondolas The remain qk people go into the last kth gondolas Note that q1 q2  qk must be positive You can get from the statement that  and qi0You know people dont want to stay with strangers in the gondolas so your task is to find an optimal allocation way that is find an optimal sequence q to make people happy For every pair of people i and j there exists a value uij denotes a level of unfamiliar You can assume uijuji for all ij 1ijn and uii0 for all i 1in Then an unfamiliar value of a gondolas is the sum of the levels of unfamiliar between any pair of people that is into the gondolasA total unfamiliar value is the sum of unfamiliar values for all gondolas Help Fox Ciel to find the minimal possible total unfamiliar value for some optimal allocation