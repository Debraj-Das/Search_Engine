Odd Subarrays                    

https://codeforces.com/problemset/problem/1686/B

dp

800

For an array [b_1, b_2, \ldots, b_m] define its number of inversions as the number of pairs (i, j) of integers such that 1 \le i < j \le m and b_i>b_j. Let's call array b odd if its number of inversions is odd. For example, array [4, 2, 7] is odd, as its number of inversions is 1, while array [2, 1, 4, 3] isn't, as its number of inversions is 2.You are given a permutation [p_1, p_2, \ldots, p_n] of integers from 1 to n (each of them appears exactly once in the permutation). You want to split it into several consecutive subarrays (maybe just one), so that the number of the odd subarrays among them is as large as possible. What largest number of these subarrays may be odd?