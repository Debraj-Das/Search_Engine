Median Queries                    

https://codeforces.com/problemset/problem/1526/F

constructive algorithms

3000

This is an interactive problem.There is a secret permutation p (1-indexed) of numbers from 1 to n. More formally, for 1 \leq i \leq n, 1 \leq p[i] \leq n and for 1 \leq i < j \leq n, p[i] \neq p[j]. It is known that p[1]<p[2].In 1 query, you give 3 distinct integers a,b,c (1 \leq a,b,c \leq n), and receive the median of \{|p[a]-p[b]|,|p[b]-p[c]|,|p[a]-p[c]|\}.In this case, the median is the 2-nd element (1-indexed) of the sequence when sorted in non-decreasing order. The median of \{4,6,2\} is 4 and the median of \{0,123,33\} is 33.Can you find the secret permutation in not more than 2n+420 queries?Note: the grader is not adaptive: the permutation is fixed before any queries are made.