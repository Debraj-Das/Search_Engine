Short Colorful Strip                    

https://codeforces.com/problemset/problem/1178/F1

combinatorics

2200

This is the first subtask of problem F. The only differences between this and the second subtask are the constraints on the value of m and the time limit. You need to solve both subtasks in order to hack this one.There are n+1 distinct colours in the universe, numbered 0 through n. There is a strip of paper m centimetres long initially painted with colour 0. Alice took a brush and painted the strip using the following process. For each i from 1 to n, in this order, she picks two integers 0 \leq a_i < b_i \leq m, such that the segment [a_i, b_i] is currently painted with a single colour, and repaints it with colour i. Alice chose the segments in such a way that each centimetre is now painted in some colour other than 0. Formally, the segment [i-1, i] is painted with colour c_i (c_i \neq 0). Every colour other than 0 is visible on the strip.Count the number of different pairs of sequences \{a_i\}_{i=1}^n, \{b_i\}_{i=1}^n that result in this configuration. Since this number may be large, output it modulo 998244353.