Game with Cards                    

https://codeforces.com/problemset/problem/1539/E

binary search

2500

The Alice's computer is broken, so she can't play her favorite card game now. To help Alice, Bob wants to answer n her questions. Initially, Bob holds one card with number 0 in the left hand and one in the right hand. In the i-th question, Alice asks Bob to replace a card in the left or right hand with a card with number k_i (Bob chooses which of two cards he changes, Bob must replace exactly one card).After this action, Alice wants the numbers on the left and right cards to belong to given segments (segments for left and right cards can be different). Formally, let the number on the left card be x, and on the right card be y. Then after the i-th swap the following conditions must be satisfied: a_{l, i} \le x \le b_{l, i}, and a_{r, i} \le y \le b_{r,i}.Please determine if Bob can answer all requests. If it is possible, find a way to do it.