Group Photo                    

https://codeforces.com/problemset/problem/1517/E

binary search

2500

In the 2050 Conference, some people from the competitive programming community meet together and are going to take a photo. The n people form a line. They are numbered from 1 to n from left to right. Each of them either holds a cardboard with the letter 'C' or a cardboard with the letter 'P'.Let C=\{c_1,c_2,\dots,c_m\} (c_1<c_2<\ldots <c_m) be the set of people who hold cardboards of 'C'. Let P=\{p_1,p_2,\dots,p_k\} (p_1<p_2<\ldots <p_k) be the set of people who hold cardboards of 'P'. The photo is good if and only if it satisfies the following constraints:   C\cup P=\{1,2,\dots,n\}  C\cap P =\emptyset .  c_i-c_{i-1}\leq c_{i+1}-c_i(1< i <m).  p_i-p_{i-1}\geq p_{i+1}-p_i(1< i <k). Given an array a_1,\ldots, a_n, please find the number of good photos satisfying the following condition: \sum\limits_{x\in C} a_x < \sum\limits_{y\in P} a_y.The answer can be large, so output it modulo 998\,244\,353. Two photos are different if and only if there exists at least one person who holds a cardboard of 'C' in one photo but holds a cardboard of 'P' in the other.