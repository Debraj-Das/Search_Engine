Rainbow Balls                    

httpscodeforcescomproblemsetproblem850F

math

2800

You have a bag of balls of n different colors You have ai balls of the ith colorWhile there are at least two different colored balls in the bag perform the following steps   Take out two random balls without replacement one by one These balls might be the same color  Color the second ball to the color of the first ball You are not allowed to switch the order of the balls in this step  Place both balls back in the bag  All these actions take exactly one second Let M1097 It can be proven that the expected amount of time needed before you stop can be represented as a rational number  where P and Q are coprime integers and where Q is not divisible by M Return the value 