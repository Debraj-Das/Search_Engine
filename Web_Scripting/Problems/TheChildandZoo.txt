The Child and Zoo                    

httpscodeforcescomproblemsetproblem437D

dsu

1900

Of course our child likes walking in a zoo The zoo has n areas that are numbered from 1 to n The ith area contains ai animals in it Also there are m roads in the zoo and each road connects two distinct areas Naturally the zoo is connected so you can reach any area of the zoo from any other area using the roadsOur child is very smart Imagine the child want to go from area p to area q Firstly he considers all the simple routes from p to q For each route the child writes down the number that is equal to the minimum number of animals among the route areas Lets denote the largest of the written numbers as fpq Finally the child chooses one of the routes for which he writes down the value fpqAfter the child has visited the zoo he thinks about the question what is the average value of fpq for all pairs pq pq Can you answer his question