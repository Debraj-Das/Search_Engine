Fishingprince Plays With Array Again                    

https://codeforces.com/problemset/problem/1696/G

brute force

3300

Suppose you are given a 1-indexed sequence a of non-negative integers, whose length is n, and two integers x, y. In consecutive t seconds (t can be any positive real number), you can do one of the following operations:  Select 1\le i<n, decrease a_i by x\cdot t, and decrease a_{i+1} by y\cdot t.  Select 1\le i<n, decrease a_i by y\cdot t, and decrease a_{i+1} by x\cdot t. Define the minimum amount of time (it might be a real number) required to make all elements in the sequence less than or equal to 0 as f(a).For example, when x=1, y=2, it takes 3 seconds to deal with the array [3,1,1,3]. We can:  In the first 1.5 seconds do the second operation with i=1.  In the next 1.5 seconds do the first operation with i=3. We can prove that it's not possible to make all elements less than or equal to 0 in less than 3 seconds, so f([3,1,1,3])=3.Now you are given a 1-indexed sequence b of positive integers, whose length is n. You are also given positive integers x, y. Process q queries of the following two types:  1 k v: change b_k to v.  2 l r: print f([b_l,b_{l+1},\dots,b_r]). 