Game on Axis                    

https://codeforces.com/problemset/problem/1787/D

combinatorics

1900

There are n points 1,2,\ldots,n, each point i has a number a_i on it. You're playing a game on them. Initially, you are at point 1. When you are at point i, take following steps:  If 1\le i\le n, go to i+a_i,  Otherwise, the game ends. Before the game begins, you can choose two integers x and y satisfying 1\le x\le n, -n \le y \le n and replace a_x with y (set a_x := y). Find the number of distinct pairs (x,y) such that the game that you start after making the change ends in a finite number of steps.Notice that you do not have to satisfy a_x\not=y.