Interactive Bulls and Cows Hard                    

httpscodeforcescomproblemsetproblem753C

brute force

2500

The only difference from the previous problem is the constraint on the number of requests In this problem your program should guess the answer doing at most 7 requestsThis problem is a little bit unusual Here you are to implement an interaction with a testing system That means that you can make queries and get responses in the online mode Please be sure to use the stream flushing operation after each querys output in order not to leave part of your output in some buffer For example in C youve got to use the fflushstdout function in Java  call Systemoutflush and in Pascal  flushoutputBulls and Cows also known as Cows and Bulls or Pigs and Bulls or Bulls and Cleots is an old codebreaking paper and pencil game for two players predating the similar commercially marketed board game MastermindOn a sheet of paper the first player thinks a secret string This string consists only of digits and has the length 4 The digits in the string must be all different no two or more equal digits are allowedThen the second player tries to guess his opponents string For every guess the first player gives the number of matches If the matching digits are on their right positions they are bulls if on different positions they are cows Thus a response is a pair of numbers  the number of bulls and the number of cows A try can contain equal digitsMore formally lets the secret string is s and the second player are trying to guess it with a string x The number of bulls is a number of such positions i 1i4 where sixi The number of cows is a number of such digits c that s contains c in the position i ie sic x contains c but xicFor example the secret string is 0427 the opponents try is 0724 then the answer is 2 bulls and 2 cows the bulls are 0 and 2 the cows are 4 and 7 If the secret string is 0123 the opponents try is 0330 then the answer is 1 bull and 1 cowIn this problem you are to guess the string s that the system has chosen You only know that the chosen string consists of 4 distinct digitsYou can make queries to the testing system each query is the output of a single 4digit string The answer to the query is the number of bulls and number of cows If the systems response equals 4 0 that means the interaction with your problem is over and the program must terminate That is possible for two reasons  the program either guessed the number x or made an invalid action for example printed letters instead of digitsYour program is allowed to do at most 7 queriesYou can hack solutions of other participants providing a 4digit string containing distinct digits  the secret string