New Year and Fireworks                    

httpscodeforcescomproblemsetproblem750D

brute force

1900

One tradition of welcoming the New Year is launching fireworks into the sky Usually a launched firework flies vertically upward for some period of time then explodes splitting into several parts flying in different directions Sometimes those parts also explode after some period of time splitting into even more parts and so onLimak who lives in an infinite grid has a single firework The behaviour of the firework is described with a recursion depth n and a duration for each level of recursion t1t2tn Once Limak launches the firework in some cell the firework starts moving upward After covering t1 cells including the starting cell it explodes and splits into two parts each moving in the direction changed by 45 degrees see the pictures below for clarification So one part moves in the topleft direction while the other one moves in the topright direction Each part explodes again after covering t2 cells splitting into two parts moving in directions again changed by 45 degrees The process continues till the nth level of recursion when all 2n1 existing parts explode and disappear without creating new parts After a few levels of recursion its possible that some parts will be at the same place and at the same time it is allowed and such parts do not crashBefore launching the firework Limak must make sure that nobody stands in cells which will be visited at least once by the firework Can you count the number of those cells