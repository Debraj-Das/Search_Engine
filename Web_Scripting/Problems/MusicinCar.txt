Music in Car                    

httpscodeforcescomproblemsetproblem746F

data structures

2200

Sasha reaches the work by car It takes exactly k minutes On his way he listens to music All songs in his playlist go one by one after listening to the ith song Sasha gets a pleasure which equals ai The ith song lasts for ti minutes Before the beginning of his way Sasha turns on some song x and then he listens to the songs one by one at first the song x then the song x1 then the song number x2 and so on He listens to songs until he reaches the work or until he listens to the last song in his playlist Sasha can listen to each song to the end or partlyIn the second case he listens to the song for integer number of minutes at least half of the songs length Formally if the length of the song equals d minutes Sasha listens to it for no less than  minutes then he immediately switches it to the next song if there is such For example if the length of the song which Sasha wants to partly listen to equals 5 minutes then he should listen to it for at least 3 minutes if the length of the song equals 8 minutes then he should listen to it for at least 4 minutesIt takes no time to switch a songSasha wants to listen partly no more than w songs If the last listened song plays for less than half of its length then Sasha doesnt get pleasure from it and that song is not included to the list of partly listened songs It is not allowed to skip songs A pleasure from a song does not depend on the listening mode for the ith song this value equals aiHelp Sasha to choose such x and no more than w songs for partial listening to get the maximum pleasure Write a program to find the maximum pleasure Sasha can get from the listening to the songs on his way to the work