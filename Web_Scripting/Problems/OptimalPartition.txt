Optimal Partition                    

https://codeforces.com/problemset/problem/1667/B

data structures

2100

You are given an array a consisting of n integers. You should divide a into continuous non-empty subarrays (there are 2^{n-1} ways to do that).Let s=a_l+a_{l+1}+\ldots+a_r. The value of a subarray a_l, a_{l+1}, \ldots, a_r is:   (r-l+1) if s>0, 0 if s=0, -(r-l+1) if s<0.  What is the maximum sum of values you can get with a partition?