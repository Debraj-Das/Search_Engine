PingPong                    

httpscodeforcescomproblemsetproblem319E

data structures

3000

In this problem at each moment you have a set of intervals You can move from interval ab from our set to interval cd from our set if and only if cad or cbd Also there is a path from interval I1 from our set to interval I2 from our set if there is a sequence of successive moves starting from I1 so that we can reach I2Your program should handle the queries of the following two types  1 x y xy  add the new interval xy to the set of intervals The length of the new interval is guaranteed to be strictly greater than all the previous intervals 2 a b ab  answer the question is there a path from ath onebased added interval to bth onebased added interval Answer all the queries Note that initially you have an empty set of intervals