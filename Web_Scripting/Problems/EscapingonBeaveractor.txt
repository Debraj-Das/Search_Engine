Escaping on Beaveractor                    

httpscodeforcescomproblemsetproblem331D3

data structures

3000

Dont put up with what youre sick of The Smart Beaver decided to escape from the campus of Beaver Science Academy BSA BSA is a bb square on a plane Each point xy 0xyb belongs to BSA To make the path quick and funny the Beaver constructed a Beaveractor an effective and comfortable types of transportThe campus obeys traffic rules there are n arrows parallel to the coordinate axes The arrows do not intersect and do not touch each other When the Beaveractor reaches some arrow it turns in the arrows direction and moves on until it either reaches the next arrow or gets outside the campus The Beaveractor covers exactly one unit of space per one unit of time You can assume that there are no obstacles to the BeaveractorThe BSA scientists want to transport the brand new Beaveractor to the Academic Tractor research institute and send the Smart Beaver to do his postgraduate studies and sharpen pencils They have q plans representing the Beaveractors initial position xiyi the initial motion vector wi and the time ti that have passed after the escape startedYour task is for each of the q plans to determine the Smart Beavers position after the given time