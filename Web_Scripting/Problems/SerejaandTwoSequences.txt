Sereja and Two Sequences                    

httpscodeforcescomproblemsetproblem425C

data structures

2300

Sereja has two sequences a1a2an and b1b2bm consisting of integers One day Sereja got bored and he decided two play with them The rules of the game was very simple Sereja makes several moves in one move he can perform one of the following actions  Choose several at least one first elements of sequence a nonempty prefix of a choose several at least one first elements of sequence b nonempty prefix of b the element of sequence a with the maximum index among the chosen ones must be equal to the element of sequence b with the maximum index among the chosen ones remove the chosen elements from the sequences  Remove all elements of both sequences The first action is worth e energy units and adds one dollar to Serejas electronic account The second action is worth the number of energy units equal to the number of elements Sereja removed from the sequences before performing this action After Sereja performed the second action he gets all the money that he earned on his electronic account during the gameInitially Sereja has s energy units and no money on his account What maximum number of money can Sereja get Note the amount of Serajas energy mustnt be negative at any time moment