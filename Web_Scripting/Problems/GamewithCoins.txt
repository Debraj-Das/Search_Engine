Game with Coins                    

httpscodeforcescomproblemsetproblem245C

greedy

1700

Two pirates Polycarpus and Vasily play a very interesting game They have n chests with coins the chests are numbered with integers from 1 to n Chest number i has ai coins Polycarpus and Vasily move in turns Polycarpus moves first During a move a player is allowed to choose a positive integer x 2x1n and take a coin from each chest with numbers x 2x 2x1 It may turn out that some chest has no coins in this case the player doesnt take a coin from this chest The game finishes when all chests get emptiedPolycarpus isnt a greedy scrooge Polycarpys is a lazy slob So he wonders in what minimum number of moves the game can finish Help Polycarpus determine the minimum number of moves in which the game can finish Note that Polycarpus counts not only his moves he also counts Vasilys moves