Discrete Centrifugal Jumps                    

https://codeforces.com/problemset/problem/1407/D

data structures

2200

There are n beautiful skyscrapers in New York, the height of the i-th one is h_i. Today some villains have set on fire first n - 1 of them, and now the only safety building is n-th skyscraper.Let's call a jump from i-th skyscraper to j-th (i < j) discrete, if all skyscrapers between are strictly lower or higher than both of them. Formally, jump is discrete, if i < j and one of the following conditions satisfied:   i + 1 = j  \max(h_{i + 1}, \ldots, h_{j - 1}) < \min(h_i, h_j)  \max(h_i, h_j) < \min(h_{i + 1}, \ldots, h_{j - 1}). At the moment, Vasya is staying on the first skyscraper and wants to live a little longer, so his goal is to reach n-th skyscraper with minimal count of discrete jumps. Help him with calcualting this number.