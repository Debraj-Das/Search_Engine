The Awesomest Vertex                    

https://codeforces.com/problemset/problem/1178/G

data structures

3000

You are given a rooted tree on n vertices. The vertices are numbered from 1 to n; the root is the vertex number 1.Each vertex has two integers associated with it: a_i and b_i. We denote the set of all ancestors of v (including v itself) by R(v). The awesomeness of a vertex v is defined as \left| \sum_{w \in R(v)} a_w\right| \cdot \left|\sum_{w \in R(v)} b_w\right|,where |x| denotes the absolute value of x. Process q queries of one of the following forms:   1 v x — increase a_v by a positive integer x.  2 v — report the maximum awesomeness in the subtree of vertex v. 