New Year and Castle Construction                    

https://codeforces.com/problemset/problem/1284/E

combinatorics

2500

Kiwon's favorite video game is now holding a new year event to motivate the users! The game is about building and defending a castle, which led Kiwon to think about the following puzzle.In a 2-dimension plane, you have a set s = \{(x_1, y_1), (x_2, y_2), \ldots, (x_n, y_n)\} consisting of n distinct points. In the set s, no three distinct points lie on a single line. For a point p \in s, we can protect this point by building a castle. A castle is a simple quadrilateral (polygon with 4 vertices) that strictly encloses the point p (i.e. the point p is strictly inside a quadrilateral). Kiwon is interested in the number of 4-point subsets of s that can be used to build a castle protecting p. Note that, if a single subset can be connected in more than one way to enclose a point, it is counted only once. Let f(p) be the number of 4-point subsets that can enclose the point p. Please compute the sum of f(p) for all points p \in s.