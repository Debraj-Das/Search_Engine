Rectangular Game                    

httpscodeforcescomproblemsetproblem177B2

number theory

1200

The Smart Beaver from ABBYY decided to have a day off But doing nothing the whole day turned out to be too boring and he decided to play a game with pebbles Initially the Beaver has n pebbles He arranges them in a equal rows each row has b pebbles a1 Note that the Beaver must use all the pebbles he has i e nab   10 pebbles are arranged in two rows each row has 5 pebbles  Once the Smart Beaver has arranged the pebbles he takes back any of the resulting rows that is b pebbles and discards all other pebbles Then he arranges all his pebbles again possibly choosing other values of a and b and takes back one row and so on The game continues until at some point the Beaver ends up with exactly one pebble The game process can be represented as a finite sequence of integers c1ck where   c1n  ci1 is the number of pebbles that the Beaver ends up with after the ith move that is the number of pebbles in a row after some arrangement of ci pebbles 1ik Note that cici1  ck1 The result of the game is the sum of numbers ci You are given n Find the maximum possible result of the game