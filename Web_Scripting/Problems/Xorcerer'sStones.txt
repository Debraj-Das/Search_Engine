Xorcerer's Stones                    

https://codeforces.com/problemset/problem/1779/F

bitmasks

2500

Misha had been banned from playing chess for good since he was accused of cheating with an engine. Therefore, he retired and decided to become a xorcerer.One day, while taking a walk in a park, Misha came across a rooted tree with nodes numbered from 1 to n. The root of the tree is node 1. For each 1\le i\le n, node i contains a_i stones in it. Misha has recently learned a new spell in his xorcery class and wants to test it out. A spell consists of:  Choose some node i (1 \leq i \leq n).  Calculate the bitwise XOR x of all a_j such that node j is in the subtree of i (i belongs to its own subtree).  Set a_j equal to x for all nodes j in the subtree of i. Misha can perform at most 2n spells and he wants to remove all stones from the tree. More formally, he wants a_i=0 to hold for each 1\leq i \leq n. Can you help him perform the spells?A tree with n nodes is a connected acyclic graph which contains n-1 edges. The subtree of node i is the set of all nodes j such that i lies on the simple path from 1 (the root) to j. We consider i to be contained in its own subtree.