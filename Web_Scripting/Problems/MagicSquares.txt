Magic Squares                    

httpscodeforcescomproblemsetproblem178D3



2100

The Smart Beaver from ABBYY loves puzzles One of his favorite puzzles is the magic square He has recently had an idea to automate the solution of this puzzle The Beaver decided to offer this challenge to the ABBYY Cup contestantsThe magic square is a matrix of size nn The elements of this matrix are integers The sum of numbers in each row of the matrix is equal to some number s The sum of numbers in each column of the matrix is also equal to s In addition the sum of the elements on the main diagonal is equal to s and the sum of elements on the secondary diagonal is equal to s Examples of magic squares are given in the following figure   Magic squares  You are given a set of n2 integers ai It is required to place these numbers into a square matrix of size nn so that they form a magic square Note that each number must occur in the matrix exactly the same number of times as it occurs in the original setIt is guaranteed that a solution exists