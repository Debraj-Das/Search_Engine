King's Path                    

https://codeforces.com/problemset/problem/1211/G

*special problem

2500

There are n cities and n-1 two-way roads in Treeland. Each road connects a pair of different cities. From any city you can drive to any other, moving only along the roads. Cities are numbered from 1 to n. Yes, of course, you recognized an undirected tree in this description.There is exactly one flag in each city, in the i-th city the flag color is c_i. The colors of the flags in different cities may be the same.If the King travels along the route [u_1, u_2, u_3, \dots, u_k], then this means that he starts in the city u_1, then moves to the city u_2 (u_2 is connected by road with u_1), then from u_2 to u_3 (u_3 is connected by road to u_2), and so on until he arrives in the city of u_k. It is possible that during this route the King will visit the same city more than once. In other words, the route [u_1, u_2, u_3, \dots, u_k] does not necessarily consist of different cities. In terms of graph theory — the King moves from u_1 to u_k along some path [u_1, u_2, u_3, \dots, u_k], which is not necessarily simple (for all j from 1 to k-1 of the city u_j and u_{j+1} are connected by road).When the King moves from one city to another, city heads exchange flags as a sign of their friendship.  Example of moving the King along the route [1, 4, 2, 6]. The color of the vertex matches the color of the flag at that vertex. For aesthetic reasons, the King wants the flag color in the city i to be equal to d_i for all i from 1 to n. Determine whether the King can choose some route and drive along it so that for each city the flag color in it turns out to be equal to the desired color d_i. Note that the King can choose (and drive) exactly one route. If yes, find the shortest possible route for the King.If the initial colors of the flags already match the King's requirements (i.e. c_i=d_i for all i), then consider that the King makes a route of length k=0.