Help Caretaker                    

httpscodeforcescomproblemsetproblem142C

brute force

2300

Autumn came late to the kingdom of Far Far Away The harvest was exuberant and it is now time to get ready for the winter As most people celebrate the Harvest festival Simon the Caretaker tries to solve a very nontrivial task of how to find place for the agricultural equipment in the warehouseHes got problems with some particularly large piece of equipment which is of course turboplows The problem is that when a turboplow is stored it takes up not some simply rectangular space It takes up a Tshaped space like on one of the four pictures below here character  stands for the space occupied by the turboplow and character  stands for the free space                                                            Simon faced a quite natural challenge placing in the given nm cells warehouse the maximum number of turboplows As one stores the turboplows he can rotate them in any manner so that they take up the space like on one of the four pictures above However two turboplows cannot overlap that is they cannot share the same cell in the warehouseSimon feels that he alone cannot find the optimal way of positioning the plugs in the warehouse that would maximize their quantity Can you help him