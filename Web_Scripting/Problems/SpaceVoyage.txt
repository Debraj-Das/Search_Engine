Space Voyage                    

httpscodeforcescomproblemsetproblem177E2

binary search

1900

The Smart Beaver from ABBYY plans a space travel on an ultramodern spaceship During the voyage he plans to visit n planets For planet i ai is the maximum number of suitcases that an alien tourist is allowed to bring to the planet and bi is the number of citizens on the planetThe Smart Beaver is going to bring some presents from ABBYY to the planets he will be visiting The presents are packed in suitcases x presents in each The Beaver will take to the ship exactly a1an suitcasesAs the Beaver lands on the ith planet he takes ai suitcases and goes out On the first day on the planet the Beaver takes a walk and gets to know the citizens On the second and all subsequent days the Beaver gives presents to the citizens  each of the bi citizens gets one present per day The Beaver leaves the planet in the evening of the day when the number of presents left is strictly less than the number of citizens ie as soon as he wont be able to give away the proper number of presents the next day He leaves the remaining presents at the hotelThe Beaver is going to spend exactly c days traveling The time spent on flights between the planets is considered to be zero In how many ways can one choose the positive integer x so that the planned voyage will take exactly c days