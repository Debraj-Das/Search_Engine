Berland Beauty                    

https://codeforces.com/problemset/problem/1296/F

constructive algorithms

2100

There are n railway stations in Berland. They are connected to each other by n-1 railway sections. The railway network is connected, i.e. can be represented as an undirected tree.You have a map of that network, so for each railway section you know which stations it connects.Each of the n-1 sections has some integer value of the scenery beauty. However, these values are not marked on the map and you don't know them. All these values are from 1 to 10^6 inclusive.You asked m passengers some questions: the j-th one told you three values:  his departure station a_j;  his arrival station b_j;  minimum scenery beauty along the path from a_j to b_j (the train is moving along the shortest path from a_j to b_j). You are planning to update the map and set some value f_i on each railway section — the scenery beauty. The passengers' answers should be consistent with these values.Print any valid set of values f_1, f_2, \dots, f_{n-1}, which the passengers' answer is consistent with or report that it doesn't exist.