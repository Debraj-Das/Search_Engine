Excellent Arrays                    

https://codeforces.com/problemset/problem/1550/D

binary search

2300

Let's call an integer array a_1, a_2, \dots, a_n good if a_i \neq i for each i.Let F(a) be the number of pairs (i, j) (1 \le i < j \le n) such that a_i + a_j = i + j.Let's say that an array a_1, a_2, \dots, a_n is excellent if:   a is good;  l \le a_i \le r for each i;  F(a) is the maximum possible among all good arrays of size n. Given n, l and r, calculate the number of excellent arrays modulo 10^9 + 7.