Exam                    

https://codeforces.com/problemset/problem/1482/H

data structures

3400

This year a Chunin Selection Exam is held again in Konoha, and taking part in it are n ninjas named s_1, s_2, ..., s_n. All names are distinct. One of the exam stages consists of fights between the participants. This year the rules determining the ninjas for each fight are the following: ninjas i and j fight against each other if the following conditions are held:  i \neq j;  s_{j} is a substring of s_{i};  there is no k except i and j that s_{j} is a substring of s_{k}, and s_{k} is a substring of s_{i}. A string a is a substring of a string b if a can be obtained from b by deletion of several (possibly, zero or all) characters from the beginning and several (possibly, zero or all) characters from the end.Your task is to find out how many fights are going to take place this year.