Flipper                    

https://codeforces.com/problemset/problem/1833/D

brute force

1400

You are given a permutation p of length n.A permutation is an array consisting of n distinct integers from 1 to n in any order. For example, \{2,3,1,5,4\} is a permutation, while \{1,2,2\} is not (since 2 appears twice), and \{1,3,4\} is also not a permutation (as n=3, but the array contains 4).To the permutation p, you need to apply the following operation exactly once:  First you choose a segment [l, r] (1 \le l \le r \le n, a segment is a continuous sequence of numbers \{p_l, p_{l+1}, \ldots, p_{r-1}, p_r\}) and reverse it. Reversing a segment means swapping pairs of numbers (p_l, p_r), (p_{l+1}, p_{r-1}), ..., (p_{l + i}, p_{r - i}) (where l + i \le r - i).  Then you swap the prefix and suffix: [r+1, n] and [1, l - 1] (note that these segments may be empty). For example, given n = 5, p = \{2, \color{blue}{3}, \color{blue}{1}, 5, 4\}, if you choose the segment [l = 2, r = 3], after reversing the segment p = \{\color{green}{2}, \color{blue}{1}, \color{blue}{3}, \color{green}{5}, \color{green}{4}\}, then you swap the segments [4, 5] and [1, 1]. Thus, p = \{\color{green}{5}, \color{green}{4}, 1, 3, \color{green}{2}\}. It can be shown that this is the maximum possible result for the given permutation.You need to output the lexicographically maximum permutation that can be obtained by applying the operation described exactly once.A permutation a is lexicographically greater than permutation b if there exists an i (1 \le i \le n) such that a_j = b_j for 1 \le j < i and a_i > b_i.