Cow Program                    

httpscodeforcescomproblemsetproblem283B

dfs and similar

1700

Farmer John has just given the cows a program to play with The program contains two integer variables x and y and performs the following operations on a sequence a1a2an of positive integers  Initially x1 and y0 If after any step x0 or xn the program immediately terminates  The program increases both x and y by a value equal to ax simultaneously  The program now increases y by ax while decreasing x by ax  The program executes steps 2 and 3 first step 2 then step 3 repeatedly until it terminates it may never terminate So the sequence of executed steps may start with step 2 step 3 step 2 step 3 step 2 and so on The cows are not very good at arithmetic though and they want to see how the program works Please help themYou are given the sequence a2a3an Suppose for each i 1in1 we run the program on the sequence ia2a3an For each such run output the final value of y if the program terminates or 1 if it does not terminate