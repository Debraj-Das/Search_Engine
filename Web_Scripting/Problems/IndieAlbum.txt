Indie Album                    

https://codeforces.com/problemset/problem/1207/G

data structures

2700

Mishka's favourite experimental indie band has recently dropped a new album! Songs of that album share one gimmick. Each name s_i is one of the following types:  1~c — a single lowercase Latin letter;  2~j~c — name s_j (1 \le j < i) with a single lowercase Latin letter appended to its end. Songs are numbered from 1 to n. It's guaranteed that the first song is always of type 1.Vova is rather interested in the new album but he really doesn't have the time to listen to it entirely. Thus he asks Mishka some questions about it to determine if some song is worth listening to. Questions have the following format:  i~t — count the number of occurrences of string t in s_i (the name of the i-th song of the album) as a continuous substring, t consists only of lowercase Latin letters. Mishka doesn't question the purpose of that information, yet he struggles to provide it. Can you please help Mishka answer all Vova's questions?