Testing                    

httpscodeforcescomproblemsetproblem39K



2600

You take part in the testing of new weapon For the testing a polygon was created The polygon is a rectangular field nm in size divided into unit squares 11 in size The polygon contains k objects each of which is a rectangle with sides parallel to the polygon sides and entirely occupying several unit squares The objects dont intersect and dont touch each otherThe principle according to which the weapon works is highly secret You only know that one can use it to strike any rectangular area whose area is not equal to zero with sides parallel to the sides of the polygon The area must completely cover some of the unit squares into which the polygon is divided and it must not touch the other squares Of course the area mustnt cross the polygon border Your task is as follows you should hit no less than one and no more than three rectangular objects Each object must either lay completely inside the area in that case it is considered to be hit or lay completely outside the areaFind the number of ways of hitting