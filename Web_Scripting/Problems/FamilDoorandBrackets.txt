Famil Door and Brackets                    

httpscodeforcescomproblemsetproblem629C

dp

2000

As Famil Doors birthday is coming some of his friends like Gabi decided to buy a present for him His friends are going to buy a string consisted of round brackets since Famil Door loves string of brackets of length n more than any other stringsThe sequence of round brackets is called valid if and only if   the total number of opening brackets is equal to the total number of closing brackets  for any prefix of the sequence the number of opening brackets is greater or equal than the number of closing brackets Gabi bought a string s of length m mn and want to complete it to obtain a valid sequence of brackets of length n He is going to pick some strings p and q consisting of round brackets and merge them in a string psq that is add the string p at the beginning of the string s and string q at the end of the string sNow he wonders how many pairs of strings p and q exists such that the string psq is a valid sequence of round brackets As this number may be pretty large he wants to calculate it modulo 1097