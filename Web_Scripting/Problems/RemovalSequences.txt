Removal Sequences                    

https://codeforces.com/problemset/problem/1795/G

bitmasks

2700

You are given a simple undirected graph, consisting of n vertices and m edges. The vertices are numbered from 1 to n. The i-th vertex has a value a_i written on it.You will be removing vertices from that graph. You are allowed to remove vertex i only if its degree is equal to a_i. When a vertex is removed, all edges incident to it are also removed, thus, decreasing the degree of adjacent non-removed vertices.A valid sequence of removals is a permutation p_1, p_2, \dots, p_n (1 \le p_i \le n) such that the i-th vertex to be removed is p_i, and every removal is allowed.A pair (x, y) of vertices is nice if there exist two valid sequences of removals such that x is removed before y in one of them and y is removed before x in the other one.Count the number of nice pairs (x, y) such that x < y.