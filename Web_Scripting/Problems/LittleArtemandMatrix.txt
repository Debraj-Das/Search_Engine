Little Artem and Matrix                    

httpscodeforcescomproblemsetproblem641B

implementation

1400

Little Artem likes electronics He can spend lots of time making different schemas and looking for novelties in the nearest electronics store The new control element was delivered to the store recently and Artem immediately bought itThat element can store information about the matrix of integers size nm There are nm inputs in that element ie each row and each column can get the signal When signal comes to the input corresponding to some row this row cyclically shifts to the left that is the first element of the row becomes last element second element becomes first and so on When signal comes to the input corresponding to some column that column shifts cyclically to the top that is first element of the column becomes last element second element becomes first and so on Rows are numbered with integers from 1 to n from top to bottom while columns are numbered with integers from 1 to m from left to rightArtem wants to carefully study this element before using it For that purpose he is going to set up an experiment consisting of q turns On each turn he either sends the signal to some input or checks what number is stored at some position of the matrixArtem has completed his experiment and has written down the results but he has lost the chip Help Artem find any initial matrix that will match the experiment results It is guaranteed that experiment data is consistent which means at least one valid matrix exists