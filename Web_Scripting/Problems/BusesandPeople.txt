Buses and People                    

httpscodeforcescomproblemsetproblem160E

binary search

2400

The main Bertown street is represented by a straight line There are 109 bus stops located on the line The stops are numbered with integers from 1 to 109 in the order in which they follow on the road The city has n buses Every day the ith bus drives from stop number si to stop number fi sifi it stops on all intermediate stops and returns only at night The bus starts driving at time ti and drives so fast that it finishes driving also at time ti The time ti is different for all buses The buses have infinite capacityBertown has m citizens Today the ith person should get from stop number li to stop number ri liri the ith citizen comes to his initial stop li at time bi Each person on the one hand wants to get to the destination point as quickly as possible and on the other hand definitely does not want to change the buses as he rides More formally the ith person chooses bus j with minimum time tj such that sjli rifj and bitj Your task is to determine for each citizen whether he can ride to the destination point today and if he can find the number of the bus on which the citizen will ride