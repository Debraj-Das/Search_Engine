Strange Beauty                    

https://codeforces.com/problemset/problem/1475/G

dp

1900

Polycarp found on the street an array a of n elements.Polycarp invented his criterion for the beauty of an array. He calls an array a beautiful if at least one of the following conditions must be met for each different pair of indices i \ne j:   a_i is divisible by a_j;  or a_j is divisible by a_i. For example, if:   n=5 and a=[7, 9, 3, 14, 63], then the a array is not beautiful (for i=4 and j=2, none of the conditions above is met);  n=3 and a=[2, 14, 42], then the a array is beautiful;  n=4 and a=[45, 9, 3, 18], then the a array is not beautiful (for i=1 and j=4 none of the conditions above is met); Ugly arrays upset Polycarp, so he wants to remove some elements from the array a so that it becomes beautiful. Help Polycarp determine the smallest number of elements to remove to make the array a beautiful.