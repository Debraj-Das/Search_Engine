Labyrinth1                    

httpscodeforcescomproblemsetproblem92101



3200

You have a robot in a twodimensional labyrinth which consists of NM cells Some pairs of cells adjacent by side are separated by a wall or a door The labyrinth itself is separated from the outside with walls around it Some labyrinth cells are the exits In order to leave the labyrinth the robot should reach any exit There are keys in some cells Any key can open any door but after the door is opened the key stays in the lock Thus every key can be used only once There are no labyrinth cells that contain both a key and an exit Also there can not be both a wall and a door between the pair of adjacent cellsYour need to write a program in abc language see the language description below that will lead the robot to one of the exits Lets numerate the labyrinth rows from 0 to N1 top to bottom and the columns  from 0 to M1 left to rightIn abc language the following primary commands are available  moveDIR  move to the adjacent cell in the  direction down increases the number of the row by 1 right increases the number of the column by 1 In case theres a wall or a closed door in this direction nothings happening  openDIR  open the door between the current cell and the adjacent one in DIR direction In case there isnt any door in this direction or its already been opened or the robot doesnt have a key nothings happening take  take the key in the current cell In case there isnt any key or the robot has already picked it up nothings happening The robot is able to carry any number of keys terminate  terminate the program This command is not obligatory to use In case its absent the command is added at the end of the program automatically Also there are the following control commands in abc language   forN OPS end  repeat the sequence of the OPS commands N times 0N100000 Each loop counter check counts as a command fulfilled by the robot  ifok  OPS1  else  OPS2  endif  carries out the sequence of the OPS1 commands if the previous command of moving taking the key or opening the door was successful otherwise the sequence of the OPS2 commands is being carried out Should there be no previous command run the sequence OPS1 will be carried out Ifok check counts as a command fulfilled by the robot  break  stops the current for loop  continue  finishes the current for loop iterations Note that the control and the primary commands can be fit into each other arbitrarilyThe robot will fulfill your commands sequentially until it exits the labyrinth or it runs out of the commands or the terminate command is run or the quantity of the fulfilled commands exceeds the bound number 5106In abc language each command is a separate word and should be separated from other commands with at least one space symbolYou should write a program that prints the sequence of commands leading the robot out of the labyrinth Of course as you are a good programmer you should optimize these sequenceThe number of the nonspace symbols in the sequence should not exceed 107 If you succeed in finding the way out of the labyrinth i youll be granted the number of points equal to  where   Wi  labyrinths weight some fixed constant  Gi  number of robots moves  Oi  number of fulfilled commands Note that this number includes commands like take executed in the cells with no key as well as opening commands applied to the already opened doors  Li  sequence length in symbols excluding space symbols and line breaks  Q10NM In case your sequence doesnt lead the robot to the exit youll be granted 0 points Your programs result will be the sum of all Si You should maximize this total sumAll labyrinths will be known and available to you You can download the archive with labyrinths by any of the given links password to extract files is aimtechiscool  httpsdrivegooglecomfiled1dkIBfWGy6c3FJtXjMXZPMsGKRyn3pzp  httpswwwdropboxcoms77jrplnjgmviiwtaimmazezipdl0  httpsyadiskdJNXDLeH63RzaCi In order to make local testing of your programs more convenient the program calculating your results checker and the labyrinth visualizer will be available This program is written in python3 programming language thats why youre going to need python3 interpreter as well as pillow library which you can install with the following command pip3 install pillow pip3 is a utility program for python3 package library installation It will be installed automatically with the python3 interpreterExample command to run checker and visualizer python3 aimmazepy mazein robotabc image mazepng The checker can be run separately of visualization python3 aimmazepy mazein robotabc Flag outputlog will let you see the information of robots each step python3 aimmazepy mazein robotabc outputlog Note python3 can be installed as python on your computerTo adjust image settings you can edit constants at the beginning of the program aimmazepy