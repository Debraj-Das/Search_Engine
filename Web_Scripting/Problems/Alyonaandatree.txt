Alyona and a tree                    

httpscodeforcescomproblemsetproblem739B

binary search

1900

Alyona has a tree with n vertices The root of the tree is the vertex 1 In each vertex Alyona wrote an positive integer in the vertex i she wrote ai Moreover the girl wrote a positive integer to every edge of the tree possibly different integers on different edgesLets define distvu as the sum of the integers written on the edges of the simple path from v to uThe vertex v controls the vertex u vu if and only if u is in the subtree of v and distvuauAlyona wants to settle in some vertex In order to do this she wants to know for each vertex v what is the number of vertices u such that v controls u