Coloring                    

httpscodeforcescomproblemsetproblem1574E

combinatorics

2500

A matrix of size n times m such that each cell of it contains either 0 or 1 is considered beautiful if the sum in every contiguous submatrix of size 2 times 2 is exactly 2 ie every square of size 2 times 2 contains exactly two 1s and exactly two 0sYou are given a matrix of size n times m Initially each cell of this matrix is empty Lets denote the cell on the intersection of the xth row and the yth column as x y You have to process the queries of three types  x y 1  clear the cell x y if there was a number in it  x y 0  write the number 0 in the cell x y overwriting the number that was there previously if any  x y 1  write the number 1 in the cell x y overwriting the number that was there previously if any After each query print the number of ways to fill the empty cells of the matrix so that the resulting matrix is beautiful Since the answers can be large print them modulo 998244353