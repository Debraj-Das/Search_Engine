The Evil Temple and the Moving Rocks                    

httpscodeforcescomproblemsetproblem329D

constructive algorithms

2500

Important All possible tests are in the pretest so you shouldnt hack on this problem So if you passed pretests you will also pass the system testYou are an adventurer currently journeying inside an evil temple After defeating a couple of weak monsters you arrived at a square room consisting of tiles forming an nn grid surrounded entirely by walls At the end of the room lies a door locked with evil magical forces The following inscriptions are written on the door The sound of clashing rocks will awaken the door Being a very senior adventurer you immediately realize what this means In the room next door lies an infinite number of magical rocks There are four types of rocks    this rock moves upwards   this rock moves leftwards   this rock moves rightwards  v this rock moves downwards To open the door you first need to place the rocks on some of the tiles one tile can be occupied by at most one rock Then you select a single rock that you have placed and activate it The activated rock will then move in its direction until it hits another rock or hits the walls of the room the rock will not move if something already blocks it in its chosen direction The rock then deactivates If it hits the walls or if there have been already 107 events of rock becoming activated the movements end Otherwise the rock that was hit becomes activated and this procedure is repeatedIf a rock moves at least one cell before hitting either the wall or another rock the hit produces a sound The door will open once the number of produced sounds is at least x It is okay for the rocks to continue moving after producing x soundsThe following picture illustrates the four possible scenarios of moving rocks Moves at least one cell then hits another rock A sound is produced the hit rock becomes activated   Moves at least one cell then hits the wall ie the side of the room A sound is produced the movements end   Does not move because a rock is already standing in the path The blocking rock becomes activated but no sounds are produced   Does not move because the wall is in the way No sounds are produced and the movements end  Assume theres an infinite number of rocks of each type in the neighboring room You know what to do place the rocks and open the door