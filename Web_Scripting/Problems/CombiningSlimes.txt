Combining Slimes                    

httpscodeforcescomproblemsetproblem618G

dp

3300

Your friend recently gave you some slimes for your birthday You have a very large amount of slimes with value 1 and 2 and you decide to invent a game using these slimesYou initialize a row with n empty spaces You also choose a number p to be used in the game Then you will perform the following steps while the last space is empty   With probability  you will choose a slime with value 1 and with probability  you will choose a slime with value 2 You place the chosen slime on the last space of the board  You will push the slime to the left as far as possible If it encounters another slime and they have the same value v you will merge the slimes together to create a single slime with value v1 This continues on until the slime reaches the end of the board or encounters a slime with a different value than itself You have played the game a few times but have gotten bored of it You are now wondering what is the expected sum of all values of the slimes on the board after you finish the game