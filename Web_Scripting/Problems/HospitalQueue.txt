Hospital Queue                    

https://codeforces.com/problemset/problem/1765/H

binary search

2200

There are n people (numbered from 1 to n) signed up for a doctor's appointment. The doctor has to choose in which order he will appoint these people. The i-th patient should be appointed among the first p_i people. There are also m restrictions of the following format: the i-th restriction is denoted by two integers (a_i, b_i) and means that the patient with the index a_i should be appointed earlier than the patient with the index b_i.For example, if n = 4, p = [2, 3, 2, 4], m = 1, a = [3] and b = [1], then the only order of appointment of patients that does not violate the restrictions is [3, 1, 2, 4]. For n =3, p = [3, 3, 3], m = 0, a = [] and b = [], any order of appointment is valid.For each patient, calculate the minimum position in the order that they can have among all possible orderings that don't violate the restrictions.