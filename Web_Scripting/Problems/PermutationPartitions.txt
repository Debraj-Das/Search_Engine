Permutation Partitions                    

https://codeforces.com/problemset/problem/1326/C

combinatorics

1300

You are given a permutation p_1, p_2, \ldots, p_n of integers from 1 to n and an integer k, such that 1 \leq k \leq n. A permutation means that every number from 1 to n is contained in p exactly once.Let's consider all partitions of this permutation into k disjoint segments. Formally, a partition is a set of segments \{[l_1, r_1], [l_2, r_2], \ldots, [l_k, r_k]\}, such that:  1 \leq l_i \leq r_i \leq n for all 1 \leq i \leq k;  For all 1 \leq j \leq n there exists exactly one segment [l_i, r_i], such that l_i \leq j \leq r_i. Two partitions are different if there exists a segment that lies in one partition but not the other.Let's calculate the partition value, defined as \sum\limits_{i=1}^{k} {\max\limits_{l_i \leq j \leq r_i} {p_j}}, for all possible partitions of the permutation into k disjoint segments. Find the maximum possible partition value over all such partitions, and the number of partitions with this value. As the second value can be very large, you should find its remainder when divided by 998\,244\,353.