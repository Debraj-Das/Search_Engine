Shrinking Tree                    

https://codeforces.com/problemset/problem/1060/F

combinatorics

2900

Consider a tree T (that is, a connected graph without cycles) with n vertices labelled 1 through n. We start the following process with T: while T has more than one vertex, do the following: choose a random edge of T equiprobably; shrink the chosen edge: if the edge was connecting vertices v and u, erase both v and u and create a new vertex adjacent to all vertices previously adjacent to either v or u. The new vertex is labelled either v or u equiprobably.At the end of the process, T consists of a single vertex labelled with one of the numbers 1, \ldots, n. For each of the numbers, what is the probability of this number becoming the label of the final vertex?