Permutation recovery                    

https://codeforces.com/problemset/problem/1158/C

constructive algorithms

2100

Vasya has written some permutation p_1, p_2, \ldots, p_n of integers from 1 to n, so for all 1 \leq i \leq n it is true that 1 \leq p_i \leq n and all p_1, p_2, \ldots, p_n are different. After that he wrote n numbers next_1, next_2, \ldots, next_n. The number next_i is equal to the minimal index i < j \leq n, such that p_j > p_i. If there is no such j let's let's define as next_i = n + 1.In the evening Vasya went home from school and due to rain, his notebook got wet. Now it is impossible to read some written numbers. Permutation and some values next_i are completely lost! If for some i the value next_i is lost, let's say that next_i = -1.You are given numbers next_1, next_2, \ldots, next_n (maybe some of them are equal to -1). Help Vasya to find such permutation p_1, p_2, \ldots, p_n of integers from 1 to n, that he can write it to the notebook and all numbers next_i, which are not equal to -1, will be correct. 