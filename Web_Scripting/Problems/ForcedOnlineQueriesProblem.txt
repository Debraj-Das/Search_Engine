Forced Online Queries Problem                    

https://codeforces.com/problemset/problem/1217/F

data structures

2600

You are given an undirected graph with n vertices numbered from 1 to n. Initially there are no edges.You are asked to perform some queries on the graph. Let last be the answer to the latest query of the second type, it is set to 0 before the first such query. Then the queries are the following:  1~x~y (1 \le x, y \le n, x \ne y) — add an undirected edge between the vertices (x + last - 1)~mod~n + 1 and (y + last - 1)~mod~n + 1 if it doesn't exist yet, otherwise remove it;  2~x~y (1 \le x, y \le n, x \ne y) — check if there exists a path between the vertices (x + last - 1)~mod~n + 1 and (y + last - 1)~mod~n + 1, which goes only through currently existing edges, and set last to 1 if so and 0 otherwise. Good luck!