Heidi and Library easy                    

httpscodeforcescomproblemsetproblem802A

greedy

1800

Your search for Heidi is over  you finally found her at a library dressed up as a human In fact she has spent so much time there that she now runs the place Her job is to buy books and keep them at the library so that people can borrow and read them There are n different books numbered 1 through nWe will look at the librarys operation during n consecutive days Heidi knows in advance that on the ith day 1in precisely one person will come to the library request to borrow the book ai read it in a few hours and return the book later on the same dayHeidi desperately wants to please all her guests so she will make sure to always have the book ai available in the library on the ith day During the night before the ith day she has the option of going to the bookstore which operates at nights to avoid competition with the library and buying any book for the price of 1 CHF Of course if she already has a book at the library she does not need to buy it again Initially the library contains no booksThere is a problem though The capacity of the library is k  this means that at any time there can be at most k books at the library If buying a new book would cause Heidi to have more than k books she must first get rid of some book that she already has in order to make room for the new book If she later needs a book that she got rid of she will need to buy that book againYou are given k and the sequence of requests for books a1a2an What is the minimum cost in CHF of buying new books to satisfy all the requests