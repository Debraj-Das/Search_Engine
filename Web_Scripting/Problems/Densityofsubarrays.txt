Density of subarrays                    

https://codeforces.com/problemset/problem/1158/F

dp

3500

Let c be some positive integer. Let's call an array a_1, a_2, \ldots, a_n of positive integers c-array, if for all i condition 1 \leq a_i \leq c is satisfied. Let's call c-array b_1, b_2, \ldots, b_k a subarray of c-array a_1, a_2, \ldots, a_n, if there exists such set of k indices 1 \leq i_1 < i_2 < \ldots < i_k \leq n that b_j = a_{i_j} for all 1 \leq j \leq k. Let's define density of c-array a_1, a_2, \ldots, a_n as maximal non-negative integer p, such that any c-array, that contains p numbers is a subarray of a_1, a_2, \ldots, a_n.You are given a number c and some c-array a_1, a_2, \ldots, a_n. For all 0 \leq p \leq n find the number of sequences of indices 1 \leq i_1 < i_2 < \ldots < i_k \leq n for all 1 \leq k \leq n, such that density of array a_{i_1}, a_{i_2}, \ldots, a_{i_k} is equal to p. Find these numbers by modulo 998\,244\,353, because they can be too large.