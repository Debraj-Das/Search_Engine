Wilbur and Trees                    

httpscodeforcescomproblemsetproblem596D

dp

2300

Wilbur the pig really wants to be a beaver so he decided today to pretend he is a beaver and bite at trees to cut them downThere are n trees located at various positions on a line Tree i is located at position xi All the given positions of the trees are distinctThe trees are equal ie each tree has height h Due to the wind when a tree is cut down it either falls left with probability p or falls right with probability 1p If a tree hits another tree while falling that tree will fall in the same direction as the tree that hit it A tree can hit another tree only if the distance between them is strictly less than h For example imagine there are 4 trees located at positions 1 3 5 and 8 while h3 and the tree at position 1 falls right It hits the tree at position 3 and it starts to fall too In its turn it hits the tree at position 5 and it also starts to fall The distance between 8 and 5 is exactly 3 so the tree at position 8 will not fallAs long as there are still trees standing Wilbur will select either the leftmost standing tree with probability 05 or the rightmost standing tree with probability 05 Selected tree is then cut down If there is only one tree remaining Wilbur always selects it As the ground is covered with grass Wilbur wants to know the expected total length of the ground covered with fallen trees after he cuts them all down because he is concerned about his grasseating cow friends Please help Wilbur