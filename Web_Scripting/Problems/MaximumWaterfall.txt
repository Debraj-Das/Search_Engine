Maximum Waterfall                    

httpscodeforcescomproblemsetproblem269D

data structures

2600

Emuskald was hired to design an artificial waterfall according to the latest trends in landscape architecture A modern artificial waterfall consists of multiple horizontal panels affixed to a wide flat wall The water flows down the top of the wall from panel to panel until it reaches the bottom of the wallThe wall has height t and has n panels on the wall Each panel is a horizontal segment at height hi which begins at li and ends at ri The ith panel connects the points lihi and rihi of the plane The top of the wall can be considered a panel connecting the points 109t and 109t Similarly the bottom of the wall can be considered a panel connecting the points 1090 and 1090 No two panels share a common pointEmuskald knows that for the waterfall to be aesthetically pleasing it can flow from panel i to panel j  only if the following conditions hold   maxliljminrirj horizontal projections of the panels overlap  hjhi panel j is below panel i  there is no such panel k hjhkhi that the first two conditions hold for the pairs ik and kj Then the flow for  is equal to minrirjmaxlilj the length of their horizontal projection overlapEmuskald has decided that in his waterfall the water will flow in a single path from top to bottom If water flows to a panel except the bottom of the wall the water will fall further to exactly one lower panel The total amount of water flow in the waterfall is then defined as the minimum horizontal projection overlap between two consecutive panels in the path of the waterfall Formally   the waterfall consists of a single path of panels   the flow of the waterfall is the minimum flow in the path   To make a truly great waterfall Emuskald must maximize this water flow but there are too many panels and he is having a hard time planning his creation Below is an example of a waterfall Emuskald wants  Help Emuskald maintain his reputation and find the value of the maximum possible water flow