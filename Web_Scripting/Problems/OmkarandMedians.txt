Omkar and Medians                    

https://codeforces.com/problemset/problem/1536/D

data structures

2000

Uh oh! Ray lost his array yet again! However, Omkar might be able to help because he thinks he has found the OmkArray of Ray's array. The OmkArray of an array a with elements a_1, a_2, \ldots, a_{2k-1}, is the array b with elements b_1, b_2, \ldots, b_{k} such that b_i is equal to the median of a_1, a_2, \ldots, a_{2i-1} for all i. Omkar has found an array b of size n (1 \leq n \leq 2 \cdot 10^5, -10^9 \leq b_i \leq 10^9). Given this array b, Ray wants to test Omkar's claim and see if b actually is an OmkArray of some array a. Can you help Ray?The median of a set of numbers a_1, a_2, \ldots, a_{2i-1} is the number c_{i} where c_{1}, c_{2}, \ldots, c_{2i-1} represents a_1, a_2, \ldots, a_{2i-1} sorted in nondecreasing order. 