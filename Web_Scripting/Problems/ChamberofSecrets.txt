Chamber of Secrets                    

httpscodeforcescomproblemsetproblem173B

dfs and similar

1800

The Chamber of Secrets has been opened again  this news has spread all around Hogwarts and some of the students have been petrified due to seeing the basilisk Dumbledore got fired and now Harry is trying to enter the Chamber of Secrets These arent good news for Lord Voldemort The problem is he doesnt want anybody to be able to enter the chamber The Dark Lord is going to be busy sucking life out of GinnyThe Chamber of Secrets is an nm rectangular grid in which some of the cells are columns A light ray and a basilisks gaze passes through the columns without changing its direction But with some spell we can make a column magic to reflect the light ray or the gaze in all four directions when it receives the ray This is shown in the figure below   The left light ray passes through a regular column and the right ray  through the magic column  The basilisk is located at the right side of the lower right cell of the grid and is looking to the left in the direction of the lower left cell According to the legend anyone who meets a basilisks gaze directly dies immediately But if someone meets a basilisks gaze through a column this person will get petrified We know that the door to the Chamber is located on the left side of the upper left corner of the grid and anyone who wants to enter will look in the direction of its movement in the direction of the upper right cell from that position   This figure illustrates the first sample test  Given the dimensions of the chamber and the location of regular columns Lord Voldemort has asked you to find the minimum number of columns that we need to make magic so that anyone who wants to enter the chamber would be petrified or just declare that its impossible to secure the chamber