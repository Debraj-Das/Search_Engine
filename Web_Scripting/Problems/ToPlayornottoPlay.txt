To Play or not to Play                    

httpscodeforcescomproblemsetproblem856F

greedy

3000

Vasya and Petya are playing an online game As most online games it has hero progress system that allows players to gain experience that make their heroes stronger Of course Vasya would like to get as many experience points as possible After careful study of experience points allocation he found out that if he plays the game alone he gets one experience point each second However if two players are playing together and their current experience values differ by at most C points they can boost their progress and each of them gets 2 experience points each secondSince Vasya and Petya are middle school students their parents dont allow them to play all the day around Each of the friends has his own schedule Vasya can only play during intervals a1b1a2b2anbn and Petya can only play during intervals c1d1c2d2cmdm All time periods are given in seconds from the current moment Vasya is good in math so he has noticed that sometimes it can be profitable not to play alone because experience difference could become too big and progress would not be boosted even when played togetherNow they would like to create such schedule of playing that Vasyas final experience was greatest possible The current players experience is the same Petya is not so concerned about his experience so he is ready to cooperate and play when needed to maximize Vasyas experience