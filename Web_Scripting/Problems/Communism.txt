Communism                    

https://codeforces.com/problemset/problem/1450/G

bitmasks

3500

Please pay attention to the unusual memory limit in this problem.In a parallel universe, Satan is called "Trygub". For that reason, the letters of his namesake were deleted from the alphabet in ancient times.The government has n workers standing in a row and numbered with integers from 1 to n from left to right. Their job categories can be represented as a string s of length n, where the character s_i represents the job category of the i-th worker.A new law will be approved to increase the equality between the workers. The government decided to make everyone have the same job category by performing the following operation any number of times (possibly zero).There is a fixed rational parameter k=\frac ab describing how easy it is to convince the public, and it will be used to determine the success of an operation.In an operation, the government first selects a job category x with at least one worker at the current moment. Suppose i_1,\ldots, i_m (i_1<\ldots<i_m) are the positions of all the workers with job category x. If k\cdot (i_m-i_1+1)\le m, the government is able to choose any job category y with at least one worker at the current moment and change the job category of all workers with job category x to job category y.If it is possible to make all workers have job category x, we say that x is obtainable. Can you tell the government the set of obtainable job categories?