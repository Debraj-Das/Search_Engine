Neatness                    

httpscodeforcescomproblemsetproblem359E

constructive algorithms

2400

Simon loves neatness So before he goes to bed Simon wants to complete all chores in the houseSimons house looks like a rectangular table consisting of n rows and n columns from above All rows of the table are numbered from 1 to n from top to bottom All columns of the table are numbered from 1 to n from left to right Each cell of the table is a room Pair xy denotes the room located at the intersection of the xth row and the yth column For each room we know if the light is on or not thereInitially Simon is in room x0y0 He wants to turn off the lights in all the rooms in the house and then return to room x0y0 Suppose that at the current moment Simon is in the room xy To reach the desired result he can perform the following steps  The format of the action is 1 The action is to turn on the light in room xy Simon cannot do it if the room already has light on  The format of the action is 2 The action is to turn off the light in room xy Simon cannot do it if the room already has light off  The format of the action is dir dir is a character The action is to move to a sideadjacent room in direction dir The direction can be left right up or down the corresponding dir is L R U or D Additionally Simon can move only if he see a light in the direction dir More formally if we represent the room Simon wants to go as nxny there shold be an integer k k0 that room xnxxkynyyk has a light Of course Simon cannot move out of his house Help Simon find the sequence of actions that lets him achieve the desired result