Sequence Recovery                    

httpscodeforcescomproblemsetproblem796F

bitmasks

2800

Zane once had a good sequence a consisting of n integers a1a2an but he has lost itA sequence is said to be good if and only if all of its integers are nonnegative and do not exceed 109 in value  However Zane remembers having played around with his sequence by applying m operations to itThere are two types of operations1 Find the maximum value of integers with indices i such that lir given l and r2 Assign d as the value of the integer with index k given k and dAfter he finished playing he restored his sequence to the state it was before any operations were applied That is sequence a was no longer affected by the applied type 2 operations Then he lost his sequence at some time between now and thenFortunately Zane remembers all the operations and the order he applied them to his sequence along with the distinct results of all type 1 operations Moreover among all good sequences that would produce the same results when the same operations are applied in the same order he knows that his sequence a has the greatest cutenessWe define cuteness of a sequence as the bitwise OR result of all integers in such sequence For example the cuteness of Zanes sequence a is a1 OR a2 OR  OR anZane understands that it might not be possible to recover exactly the lost sequence given his information so he would be happy to get any good sequence b consisting of n integers b1b2bn that1 would give the same results when the same operations are applied in the same order and2 has the same cuteness as that of Zanes original sequence aIf there is such a sequence find it Otherwise it means that Zane must have remembered something incorrectly which is possible