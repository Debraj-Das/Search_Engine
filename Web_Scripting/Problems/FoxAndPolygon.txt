Fox And Polygon                    

httpscodeforcescomproblemsetproblem512E

constructive algorithms

2900

Fox Ciel just designed a puzzle game called Polygon It is played using triangulations of a regular nedge polygon The goal is to transform one triangulation to another by some tricky rulesTriangulation of an nedge poylgon is a set of n3 diagonals satisfying the condition that no two diagonals share a common internal pointFor example the initial state of the game may look like a in above figure And your goal may look like c In each step you can choose a diagonal inside the polygon but not the one of edges of the polygon and flip this diagonal Suppose you are going to flip a diagonal ab There always exist two triangles sharing ab as a side lets denote them as abc and abd As a result of this operation the diagonal ab is replaced by a diagonal cd It can be easily proven that after flip operation resulting set of diagonals is still a triangulation of the polygonSo in order to solve above case you may first flip diagonal 63 it will be replaced by diagonal 24 Then you flip diagonal 64 and get figure c as resultCiel just proved that for any starting and destination triangulations this game has a solution She wants you to solve it in no more than 20000 steps for any puzzle satisfying n1000