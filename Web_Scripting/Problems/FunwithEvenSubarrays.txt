Fun with Even Subarrays                    

https://codeforces.com/problemset/problem/1631/B

dp

1100

You are given an array a of n elements. You can apply the following operation to it any number of times:  Select some subarray from a of even size 2k that begins at position l (1\le l \le l+2\cdot{k}-1\le n, k \ge 1) and for each i between 0 and k-1 (inclusive), assign the value a_{l+k+i} to a_{l+i}. For example, if a = [2, 1, 3, 4, 5, 3], then choose l = 1 and k = 2, applying this operation the array will become a = [3, 4, 3, 4, 5, 3].Find the minimum number of operations (possibly zero) needed to make all the elements of the array equal.