Appleman and a Sheet of Paper                    

httpscodeforcescomproblemsetproblem461C

data structures

2200

Appleman has a very big sheet of paper This sheet has a form of rectangle with dimensions 1n Your task is help Appleman with folding of such a sheet Actually you need to perform q queries Each query will have one of the following types  Fold the sheet of paper at position pi After this query the leftmost part of the paper with dimensions 1pi must be above the rightmost part of the paper with dimensions 1currentwidthofsheetpi  Count what is the total width of the paper pieces if we will make two described later cuts and consider only the pieces between the cuts We will make one cut at distance li from the left border of the current sheet of paper and the other at distance ri from the left border of the current sheet of paper Please look at the explanation of the first test example for better understanding of the problem