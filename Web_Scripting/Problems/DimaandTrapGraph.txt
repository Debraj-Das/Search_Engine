Dima and Trap Graph                    

httpscodeforcescomproblemsetproblem366D

binary search

2000

Dima and Inna love spending time together The problem is Seryozha isnt too enthusiastic to leave his room for some reason But Dima and Inna love each other so much that they decided to get criminalDima constructed a trap graph He shouted Hey Seryozha have a look at my cool graph to get his roommate interested and kicked him into the first nodeA trap graph is an undirected graph consisting of n nodes and m edges For edge number k Dima denoted a range of integers from lk to rk lkrk In order to get out of the trap graph Seryozha initially before starting his movements should pick some integer lets call it x then Seryozha must go some way from the starting node with number 1 to the final node with number n At that Seryozha can go along edge k only if lkxrkSeryozha is a mathematician He defined the loyalty of some path from the 1st node to the nth one as the number of integers x such that if he initially chooses one of them he passes the whole path Help Seryozha find the path of maximum loyalty and return to his room as quickly as possible